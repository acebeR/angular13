{"ast":null,"code":"var _class;\nimport { Conversao } from '../models';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../directives/numero.directive\";\nimport * as i5 from \"../utils/modal-cotacao.component\";\nconst _c0 = [\"conversaoForm\"];\nfunction ConversorComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1, \" Erro obtendo dados. Tente novamente.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ConversorComponent_option_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const moeda_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", moeda_r4.sigla);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", moeda_r4.sigla, \" - \", moeda_r4.descricao, \" \");\n  }\n}\nfunction ConversorComponent_option_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const moeda_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", moeda_r5.sigla);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", moeda_r5.sigla, \" - \", moeda_r5.descricao, \" \");\n  }\n}\nexport class ConversorComponent {\n  constructor(moedaService, conversorService) {\n    this.moedaService = moedaService;\n    this.conversorService = conversorService;\n    this.possuiErro = false;\n    this.conversao = new Conversao('', '', 0);\n    this.moedas = this.moedaService.listarTodas();\n  }\n  ngOnInit() {\n    this.conversao = new Conversao('USD', 'BRL', 0);\n    this.possuiErro = false;\n  }\n  init() {\n    this.conversao = new Conversao('USD', 'BRL', 0);\n    this.possuiErro = false;\n  }\n  converter() {\n    if (this.conversaoForm.form.valid) {\n      // this.conversorService.converter(this.conversao)\n      // .subscribe(response => this.conversaoResponse = response,\n      //   error => this.possuiErro = true);\n      this.conversorService.converter(this.conversao).subscribe(response => this.conversaoResponse = response);\n    }\n  }\n}\n_class = ConversorComponent;\n_class.ɵfac = function ConversorComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.MoedaService), i0.ɵɵdirectiveInject(i1.ConversorService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-conversor\"]],\n  viewQuery: function ConversorComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.conversaoForm = _t.first);\n    }\n  },\n  decls: 21,\n  vars: 11,\n  consts: [[\"class\", \"alert alert-danger\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"painel\", \"panel-success\"], [1, \"panel-heading\"], [1, \"panel-body\", \"text-center\"], [1, \"form-inline\"], [\"conversaoForm\", \"ngForm\"], [\"type\", \"text\", \"name\", \"valor\", \"placeholder\", \"0\", \"numero\", \"\", \"required\", \"\", 1, \"form-control\", \"text-right\", 3, \"ngModel\", \"ngModelChange\"], [2, \"margin-left\", \"20px\"], [\"name\", \"moedaDe\", \"required\", \"\", 1, \"form-control\", 2, \"margin-left\", \"20px\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"arial-hidden\", \"true\", 1, \"glyphicon\", \"glyphicon-arrow-rigth\", 2, \"margin-left\", \"20px\"], [\"name\", \"moedaPara\", \"required\", \"\", 1, \"form-control\", 2, \"margin-left\", \"20px\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", \"value\", \"Converter\", \"data-toggle\", \"modal\", \"data-target\", \"#modalCotacao\", 1, \"btn\", \"btn-success\", 2, \"margin-left\", \"20px\", 3, \"disabled\", \"click\"], [3, \"id\", \"conversaoResponse\", \"conversao\", \"onConfirm\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"], [3, \"value\"]],\n  template: function ConversorComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"br\");\n      i0.ɵɵtemplate(1, ConversorComponent_div_1_Template, 2, 0, \"div\", 0);\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2);\n      i0.ɵɵtext(4, \" Selecione a moeda a ser convertida. \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 3)(6, \"form\", 4, 5)(8, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function ConversorComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.conversao.valor = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 7);\n      i0.ɵɵtext(10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"br\");\n      i0.ɵɵelementStart(12, \"select\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function ConversorComponent_Template_select_ngModelChange_12_listener($event) {\n        return ctx.conversao.moedaDe = $event;\n      });\n      i0.ɵɵtemplate(13, ConversorComponent_option_13_Template, 2, 3, \"option\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"br\")(15, \"span\", 10);\n      i0.ɵɵelementStart(16, \"select\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function ConversorComponent_Template_select_ngModelChange_16_listener($event) {\n        return ctx.conversao.moedaPara = $event;\n      });\n      i0.ɵɵtemplate(17, ConversorComponent_option_17_Template, 2, 3, \"option\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"br\");\n      i0.ɵɵelementStart(19, \"input\", 12);\n      i0.ɵɵlistener(\"click\", function ConversorComponent_Template_input_click_19_listener() {\n        return ctx.converter();\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(20, \"modal-cotacao\", 13);\n      i0.ɵɵlistener(\"onConfirm\", function ConversorComponent_Template_modal_cotacao_onConfirm_20_listener() {\n        return ctx.init();\n      });\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(7);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.possuiErro);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.conversao.valor);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Valor:\", ctx.conversao.valor, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.conversao.moedaDe);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.moedas);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.conversao.moedaPara);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.moedas);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", !_r1.form.valid);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"id\", \"modalCotacao\")(\"conversaoResponse\", ctx.conversaoResponse)(\"conversao\", ctx.conversao);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm, i4.NumeroDirective, i5.ModalCotacaoComponent],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["Conversao","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","moeda_r4","sigla","ɵɵadvance","ɵɵtextInterpolate2","descricao","moeda_r5","ConversorComponent","constructor","moedaService","conversorService","possuiErro","conversao","moedas","listarTodas","ngOnInit","init","converter","conversaoForm","form","valid","subscribe","response","conversaoResponse","ɵɵdirectiveInject","i1","MoedaService","ConversorService","selectors","viewQuery","ConversorComponent_Query","rf","ctx","ɵɵelement","ɵɵtemplate","ConversorComponent_div_1_Template","ɵɵlistener","ConversorComponent_Template_input_ngModelChange_8_listener","$event","valor","ConversorComponent_Template_select_ngModelChange_12_listener","moedaDe","ConversorComponent_option_13_Template","ConversorComponent_Template_select_ngModelChange_16_listener","moedaPara","ConversorComponent_option_17_Template","ConversorComponent_Template_input_click_19_listener","ConversorComponent_Template_modal_cotacao_onConfirm_20_listener","ɵɵtextInterpolate1","_r1"],"sources":["C:\\Users\\acebe\\Documents\\Git\\angular13\\projeto-final\\src\\app\\conversor\\components\\conversor.component.ts","C:\\Users\\acebe\\Documents\\Git\\angular13\\projeto-final\\src\\app\\conversor\\components\\conversor.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { Moeda,Conversao, ConversaoResponse} from '../models';\r\nimport { MoedaService, ConversorService } from '../services';\r\n@Component({\r\n  selector: 'app-conversor',\r\n  templateUrl: './conversor.component.html',\r\n  styleUrls: ['./conversor.component.css']\r\n})\r\nexport class ConversorComponent implements OnInit {\r\n\r\n  public possuiErro = false;\r\n  public conversao: Conversao = new Conversao('','',0);\r\n  public moedas: Moeda[] = this.moedaService.listarTodas();\r\n  public conversaoResponse!: ConversaoResponse;\r\n\r\n  @ViewChild('conversaoForm') conversaoForm!: NgForm;\r\n  constructor(    private moedaService: MoedaService, private conversorService: ConversorService) {}\r\n  ngOnInit(): void {\r\n    this.conversao = new Conversao('USD','BRL',0);\r\n    this.possuiErro = false;\r\n  }\r\n\r\n  init(): void{\r\n    this.conversao = new Conversao('USD','BRL',0);\r\n    this.possuiErro = false;\r\n  }\r\n\r\n  converter(): void{\r\n    if(this.conversaoForm.form.valid){\r\n      // this.conversorService.converter(this.conversao)\r\n      // .subscribe(response => this.conversaoResponse = response,\r\n      //   error => this.possuiErro = true);\r\n      this.conversorService.converter(this.conversao).subscribe(response=> this.conversaoResponse = response);\r\n    }\r\n  }\r\n}\r\n","\r\n<br/>\r\n<div class=\"alert alert-danger\" role=\"alert\"\r\n*ngIf=\"possuiErro\"> Erro obtendo dados. Tente novamente.</div>\r\n\r\n<div class=\"painel panel-success\">\r\n  <div class=\"panel-heading\">\r\n    Selecione a moeda a ser convertida.\r\n  </div>\r\n  <div class=\"panel-body text-center\">\r\n    <form #conversaoForm=\"ngForm\" class=\"form-inline\">\r\n      <input\r\n      type=\"text\"\r\n      name=\"valor\"\r\n      class=\"form-control text-right\"\r\n      placeholder=\"0\"\r\n      [(ngModel)]=\"conversao.valor\" numero required>\r\n      <div style=\"margin-left: 20px;\">Valor:{{conversao.valor}}</div>\r\n      <br/>\r\n      <select name=\"moedaDe\" class=\"form-control\" style=\"margin-left: 20px;\"\r\n      [(ngModel)]=\"conversao.moedaDe\" required>\r\n        <option *ngFor=\"let moeda of moedas\" [value]=\"moeda.sigla\" >\r\n        {{ moeda.sigla }} - {{moeda.descricao}}\r\n        </option>\r\n      </select>\r\n      <br/>\r\n      <span class=\"glyphicon glyphicon-arrow-rigth\" arial-hidden=\"true\" style=\"margin-left: 20px;\"></span>\r\n      <select name=\"moedaPara\" class=\"form-control\" style=\"margin-left: 20px;\"\r\n      [(ngModel)]=\"conversao.moedaPara\" required>\r\n        <option *ngFor=\"let moeda of moedas\" [value]=\"moeda.sigla\" >\r\n        {{ moeda.sigla }} - {{moeda.descricao}}\r\n        </option>\r\n      </select>\r\n      <br/>\r\n      <input type=\"submit\" value=\"Converter\" class=\"btn btn-success\" style=\"margin-left: 20px;\"\r\n       data-toggle=\"modal\" data-target=\"#modalCotacao\"\r\n       (click)=\"converter()\" [disabled]=\"!conversaoForm.form.valid\">\r\n\r\n    </form>\r\n\r\n  </div>\r\n  <modal-cotacao\r\n  [id]=\"'modalCotacao'\"\r\n  [conversaoResponse]=\"conversaoResponse\"\r\n  [conversao]=\"conversao\" (onConfirm)=\"init()\"></modal-cotacao>\r\n</div>\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}